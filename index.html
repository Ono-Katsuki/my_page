<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>クリックテスト付きパーティクルロゴ</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #000; }
        canvas { display: block; }
        #debug { position: absolute; top: 10px; left: 10px; color: white; font-family: monospace; }
    </style>
</head>
<body>
    <div id="debug">クリックしてください</div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        let scene, camera, renderer;
        let logo;

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            createLogo();

            camera.position.z = 15;

            document.addEventListener('click', onDocumentClick);

            animate();
        }

        function createLogo() {
            const points = [[-5, 5], [-3, 5], [-1, 5], [-5, 3], [-5, 1], [-5, -1], [-3, 1], [-1, 1], [-5, -3], [-5, -5]];
            logo = new THREE.Group();
            points.forEach(([x, y]) => {
                const geometry = new THREE.SphereGeometry(0.2, 32, 32);
                const material = new THREE.MeshBasicMaterial({ color: 0x4267B2 });
                const particle = new THREE.Mesh(geometry, material);
                particle.position.set(x, y, 0);
                logo.add(particle);
            });
            scene.add(logo);
        }

        function onDocumentClick(event) {
            event.preventDefault();
            console.log('クリックされました');
            document.getElementById('debug').textContent = 'クリック検出: ' + new Date().toLocaleTimeString();
            
            // ロゴの色を変更（視覚的フィードバック）
            logo.children.forEach(particle => {
                particle.material.color.setHex(Math.random() * 0xFFFFFF);
            });

            // リンクを開く
            const url = 'https://www.facebook.com/katsuki.hirai';
            window.open(url, '_blank');
        }

        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }

        init();
    </script>
</body>
</html>
